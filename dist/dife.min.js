"use strict";var Dife=function(e){this.listFeatures=function(e,n){return t.get("features",e,n)},this.listValues=function(e,n,i,s){var r="";return void 0!==s&&s&&(r="?page="+s),t.get("features/"+e+r,n,i)},this.form=function(e,n,i,s){return t.post("forms/"+e,n,i,s)};var t=new function(e){var t="https://dife.com.br/api/";this.get=function(i,s,r,a){if(a=a&&1==a){var o=Dife.cache().get(i.hashCode());if(o)return console.log("Loading cache data"),s(o)}var u;(u=a?n(s,r,function(e){Dife.cache().set(i.hashCode(),e,300)}):n(s,r)).open("GET",t+i,!0),u.setRequestHeader("Authorization","Bearer "+e),u.setRequestHeader("Content-Type","application/json"),u.send()},this.post=function(i,s,r,a){var o=n(r,a);o.open("POST",t+i,!0),o.setRequestHeader("Authorization","Bearer "+e),o.setRequestHeader("Content-Type","application/json"),o.send(JSON.stringify({field:s}))};var n=function(e,t,n){var i=new XMLHttpRequest;return i.onreadystatechange=function(){if(4==this.readyState){var s={response:this.response,responseText:this.responseText,status:this.status,statusText:this.statusText,data:this.data};"application/json"==i.getResponseHeader("Content-Type")&&(s.data=JSON.parse(this.responseText)),200==this.status?(e(s),n(s)):t(s)}},i}}(e)};Dife.template=function(e,t){var n=function(e,t){for(var n in t)e=e.replace(new RegExp("{{\\s+"+n+"\\s+}}","g"),t[n]);return e},i="",s=document.getElementById(e);if(null!=s&&"object"==typeof t){var r=s.innerHTML.replace(/^\s+|\s+$/gm,"");for(var a in t){if(!/^\d+$/.test(a))return n(r,t);i+=n(r,t[a])}}return i},Dife.cache=function(){var e=this;this.set=function(e,t,n){if(e&&t&&(n||(n=300),"undefined"!=typeof Storage&&"undefined"!=typeof JSON)){var i=new Date;i.setMinutes(i.getMinutes()+n);var s={value:t,expire:i};localStorage.setItem(e(),JSON.stringify(s))}},this.get=function(e){if("undefined"!=typeof Storage&&"undefined"!=typeof JSON){var t=localStorage.getItem(e());if(t)if((t=JSON.parse(t)).expire)if(new Date(t.expire)>new Date)return t.value}},this.has=function(t){e.get(t)}},String.prototype.hashCode=function(){var e=0;if(0==this.length)return e;for(i=0;i<this.length;i++)char=this.charCodeAt(i),e=(e<<5)-e+char,e&=e;return e};
//# sourceMappingURL=dist/dife.min.js.map