"use strict";var Dife=function(e){this.listFeatures=function(e,t,s){return n.get("features",e,t,s)},this.listValues=function(e,t,s,i,r){var a="";return void 0!==i&&i&&(a="?page="+i),n.get("features/"+e+a,t,s,r)},this.form=function(e,t,s,i){return n.post("forms/"+e,t,s,i)};var t=function(){var e=this;this.key=function(e){return"DifePanel"+e},this.set=function(e,t,n){if(e&&t&&(n||(n=300),"undefined"!=typeof Storage&&"undefined"!=typeof JSON)){var s=new Date;s.setMinutes(s.getMinutes()+n);var i={value:t,expire:s};localStorage.setItem(this.key(e),JSON.stringify(i))}},this.get=function(e){if("undefined"!=typeof Storage&&"undefined"!=typeof JSON){var t=localStorage.getItem(this.key(e));if(t)if((t=JSON.parse(t)).expire)if(new Date(t.expire)>new Date)return t.value}},this.has=function(t){e.get(t)},this.remove=function(e){"undefined"!=typeof Storage&&"undefined"!=typeof JSON&&localStorage.removeItem(this.key(e))}},n=new function(e){var n="https://dife.com.br/api/";this.get=function(i,r,a,o){if(o=o&&1==o){var f=(new t).get(i.hashCode());if(f)return console.log("Loading cache data for URL: "+n+i),f.data=JSON.parse(f.responseText),r(f)}else(new t).remove(i.hashCode());var u;(u=o?s(r,a,function(e){(new t).set(i.hashCode(),e,300)}):s(r,a)).open("GET",n+i,!0),u.setRequestHeader("Authorization","Bearer "+e),u.setRequestHeader("Content-Type","application/json"),u.send()},this.post=function(t,i,r,a){var o=s(r,a);o.open("POST",n+t,!0),o.setRequestHeader("Authorization","Bearer "+e),o.setRequestHeader("Content-Type","application/json"),o.send(JSON.stringify({field:i}))};var s=function(e,t,n){var s=new XMLHttpRequest;return s.onreadystatechange=function(){if(4==this.readyState){var i={response:this.response,responseText:this.responseText,status:this.status,statusText:this.statusText,data:this.data};"application/json"==s.getResponseHeader("Content-Type")&&(i.data=JSON.parse(this.responseText)),200==this.status?(e&&"function"==typeof e&&e(i),n&&"function"==typeof n&&n(i)):t&&"function"==typeof t&&t(i)}},s}}(e)};Dife.template=function(e,t){var n=function(e,t){for(var n in t)e=e.replace(new RegExp("{{\\s+"+n+"\\s+}}","g"),t[n]);return e},s="",i=document.getElementById(e);if(null!=i&&"object"==typeof t){var r=i.innerHTML.replace(/^\s+|\s+$/gm,"");for(var a in t){if(!/^\d+$/.test(a))return n(r,t);s+=n(r,t[a])}}return s},String.prototype.hashCode=function(){var e=0;if(0==this.length)return e;for(var t=0;t<this.length;t++)e=(e<<5)-e+this.charCodeAt(t),e&=e;return e};
//# sourceMappingURL=dist/dife.min.js.map